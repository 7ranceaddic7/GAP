//STS-1 - Space Transportation System: STS-1: Fly space shuttle to orbit, launch satellite, return.

CONTRACT_TYPE
{


//REQUIREMENTS FOR CONTRACT TO APPEAR


//CONTRACT DESCRIPTION

//Contract Descriptions
	name = STS-1
	title = STS-1: STS-Fuel Pod to 100km orbit
	group = Space Transportation System
	agent = Space Transportation System
	
	description = SSI has developed the Space Shuttle Intrepid. If you accept this contract, the design for our spacecraft will appear in your Vehicle Assembly Building craft folder. \n\nFly the Space Shuttle Intrepid into orbit, then release and deploy its satellite payload. The Inigma Industries STS Fuel Pod is a self contained orbital fuel depot which has a full fuel tank intended to be used for future missions, so please do not use any of it on your ascent. Its fuel tanks are locked as a precaution. Once in orbit, the STS Fuel Pod can be deployed by any crew you choose. Finally, to prove that the costs required to launch this Space Transportation System is worthwhile, you must land back at KSC runway or the KSC Island runway.
	
	synopsis = You get to launch a space shuttle!
	
	notes = Enjoy the view!
	
	completedMessage = You did it!

//Contract Limits
  	maxCompletions = 1
   	maxSimultaneous = 1
	weight = 10.0

	autoAccept = false
	declinable = true
	cancellable = true
	
	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0
 
//Contract Reward Modifiers
	prestige = Trivial
   	targetBody = Kerbin

//Contract Rewards
  	advanceFunds = 439000
  	rewardFunds = 800000.0
  	rewardReputation = 50.0
 	rewardScience = 150.0

//Contract Penalties
  	failureFunds = 1300000.0
 	failureReputation = 150.0


//BEHAVIOURS TO DO WHEN CREATING CONTRACT

	BEHAVIOUR
	{
		name = CopyCraftFile
		type = CopyCraftFile
		
		url = ContractPacks/GAP/Assets/Space Shuttle Intrepid.craft
		craftType = VAB
		onState = CONTRACT_ACCEPTED
		
	}

	
//PARAMETERS FOR CONTRACT COMPLETION

//Craft definition
	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = STS-1 Space Shuttle Intrepid must
		
		define = spaceshuttle
		
		dissassociateVesselsOnContractCompletion = true		
		disableOnStateChange = false
		
		//PV for Pods is required for later VPG vessel recall, for command seat only aircraft. CC #400
		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			
			category = Pods

			disableOnStateChange = false
			hideChildren = true
			hidden = true
			
		}
		
		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			title = have 4 crew members
		
			minCrew = 4
		
			disableOnStateChange = false
			hideChildren = true

		}

		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			title = have wings
			
			category = Aero
			
			disableOnStateChange = false
			hideChildren = true
			hidden = true

		}

	}

//Contract Goals

	PARAMETER
	{
		name = PartValidation
		type = PartValidation
		title = separate Solid Rocket Boosters
		
		NONE
		{
			part = MassiveBooster
			
		}
		
		completeInSequence = true
		hideChildren = true
		
	}

	PARAMETER
	{
		name = Orbit
		type = Orbit
		title = orbit Kerbin above 100km

		targetBody = Kerbin
		situation = ORBITING
		minAltitude = 100000

		completeInSequence = true
		disableOnStateChange = true
		hideChildren = true
		
	}
	
	PARAMETER
	{
		name = PartValidation
		type = PartValidation
		title = release the Inigma Industries STS Fuel Pod into orbit
		
		NONE
		{
			part = fuelTank3-2
			
		}
		
		completeInSequence = true
		disableOnStateChange = false
		hideChildren = true		
		
	}

//Recovery Parameter - Landing
	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = and then land back at the KSC runway or KSC Island runway
		
		vessel = spaceshuttle
		
		completeInSequence = true
		hideChildren = true
	
	PARAMETER
	{
		name = Any
		type = Any
		
		hideChildren = true
		hidden = true
		
		PARAMETER
			{
				name = ReachState
				type = ReachState
				
				targetBody = Kerbin
				biome = Runway
				situation = LANDED
				maxSpeed = 0.0
				
				completeInSequence = true
				disableOnStateChange = false
				hideChildren = true
				hidden = true

			}
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				
				targetBody = Kerbin
				biome = IslandAirfield
				situation = LANDED
				maxSpeed = 0.0
				
				completeInSequence = true
				disableOnStateChange = false
				hideChildren = true
				hidden = true

			}
			
		}
	
	}

//Recovery Parameter - Craft & Kerbal Safety Check
	PARAMETER
	{
		name = All
		type = All
		title = safely
		
		completeInSequence = true
		disableOnStateChange = true
		
		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
			title = without destroying the space shuttle
			
			vessel = spaceshuttle

		}
		
		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = or killing anyone
			
			countMax = 1

		}
		
	}	
	
}