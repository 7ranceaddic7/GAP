//KSP: Islands Survey

CONTRACT_TYPE
{


//REQUIREMENTS FOR CONTRACT TO APPEAR

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = SSI-2000m
		minCount = 1

	}
	
	
//CONTRACT DESCRIPTION

	name = KSP-IslandsSurvey
	title = KSC Islands Aerial Survey
	group = Kerbal Space Program
	agent = Kerbal Space Program
	
	description = Congratulations on successfully testing your airplane. Gene Kerman of the Kerbal Space Program is asking your organization to send a brave pilot to fly over the KSC Isles and check out the condition of a makeshift airstrip constructed there a few years ago on one of them. It was used initially for testing solid rocket powered airplanes (they weren't very successful, hence why it was abandoned). Currently used as a dumping ground for failed space center projects, Gene thinks if the conditions warrant, it might be possible to set it back up as a landing strip again.\n\nSpeaking of landings, Gene insists you start landing on the KSC runway this time, in the hopes that it will raise public awareness of the need for a better runway in the future. Someone even mistook the gouges on the grass in front of the Administration building which was recently left by other aviators that have copied your prototype, as proof of some sort of Kracken conspiracy. We'd better help put that idea to rest. Besires, our reputation is on the line now that the world knows about your accomplishments so far.
	
	synopsis = For science (and a few funds)!
	
	notes = Fly over the KSC Isles, and land back at KSC runway.
	
	completedMessage = Congratulations on finishing the survey of the KSC Isles. It is confirmed that KSC Island is a mess! Much work needs to be done to make that airstrip ready, but your successful flight has caught the attention of KSC Island Tours, which regularly runs tourists to the KSC isles. They have an idea they think you hope you might be interested in. Gene says to head back to Mission Control and look for a new kind of contract on the table from KSC Island Tours.

//Contract Limits
	maxCompletions = 1
   	maxSimultaneous = 1
	weight = 10.0

	autoAccept = false
	declinable = true
	cancellable = true

	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0

//Contract Reward Modifiers
 	prestige = Trivial
   	targetBody = Kerbin

//Contract Rewards
  	advanceFunds = 2000
  	rewardFunds = 8000.0
  	rewardReputation = 3.0
	rewardScience = 4.0

//Contract Penalties
  	failureFunds = 10000.0
 	failureReputation = 5.0
	

//BEHAVIOURS TO DO WHEN CREATING CONTRACT

	BEHAVIOUR
	{
        	name = WaypointGenerator
        	type = WaypointGenerator
       
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 1
			icon = marker
			latitude = -1.51971636955524
			longitude = 288.114196483849
			altitude = 1100

		}
		
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 2   
			icon = marker
			latitude = -2.39670533305862
			longitude = 287.419203490504
			altitude = 1100
			
		}
		
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 3  
			icon = marker
			latitude = -3.29647380095838
			longitude = 287.260245605689
			altitude = 1100
			
		}

		WAYPOINT       
		{
        	name = KSC Islands Waypoint 4  
			icon = marker
			latitude = -3.96549260680138
			longitude = 287.420042230946
			altitude = 1100
			
		}
		
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 5 
			icon = marker
			latitude = -4.01354549927182
			longitude = 287.824097416704
			altitude = 1100
			
		}
		
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 6 
			icon = marker
			latitude = -1.52971636955524
			longitude = 288.114196483849
			altitude = 1100
			
		}
		
	}	

	
//PARAMETERS FOR CONTRACT COMPLETION

	PARAMETER
	{
		name = HasCrew
		type = HasCrew
		hideChildren = true
		trait = Pilot
		minCrew = 1
		title = You must have a certified pilot.
		
	}

//Navigate to waypoint parameters
	PARAMETER
	{
		name = All
		type = All
		title = Fly within 1000m of all waypoints in sequence
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 1
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
				
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 0
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
				
			}
		
		}
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 2
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1950
				
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 1
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
				
			}
		
		}
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 3
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
				
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 2
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
				
			}
		
		}
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 4
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
				
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 3
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
				
			}
		
		}
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 5
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
				
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 4
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
				
			}
		
		}
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 6 for another pass over KSC Island
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
				
			}

			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 5
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				completeInSequence = true
				disableOnStateChange = false
				
			}
			
		}
	
	}
	
//Recovery Parameters - Landing Zone
	PARAMETER
	{
		name = ReachState
		type = ReachState
		title = Land back at KSC runway
		hideChildren = true
		situation = LANDED
		maxSpeed = 0.0
		targetBody = Kerbin
		biome = Runway
		completeInSequence = true
		disableOnStateChange = false
		
	}

//Recovery Parameters - Craft and Kerbal Recovery		
	PARAMETER
	{
		name = All
		type = All
		title = Recover

		PARAMETER
		{
			name = RecoverVessel
			type = RecoverVessel
			title = your airplane
			
		}
		
		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
			title = without destroying it
			
		}
		
		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = and do not kill anyone in the process
			countMax = 1
			
		}
		
	}	
	
}
