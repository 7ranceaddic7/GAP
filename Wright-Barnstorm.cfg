//KSP: Islands Survey

CONTRACT_TYPE
{


//REQUIREMENTS FOR CONTRACT TO APPEAR

REQUIREMENT
{
	name = All
	type = All
	
	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = Wright-AirplaneRide
		minCount = 1

	}
	
	REQUIREMENT
	{
		name = Facility
		type = Facility
		
		facility = ResearchAndDevelopment
		
		minLevel = 3
		
	}

}	
	
//CONTRACT DESCRIPTION

	name = Wright-Barnstorm
	title = Barnstorm the R&D Center
	group = Wright Aeronautical
	agent = Wright Aeronautical
	
	description = Jebediah thinks it can be done. Gene has signed off on the attempt. Wright Aeronautical thinks it might lead to an air show at some point. At least for now, the cameras won't be rolling in case... well... you get the gist. As a result, to avoid liability, this is a totally self-funded venture, but you will earn a significant amount of reputation if you do it.
	
	synopsis = Go barnstorm the R&D pedestrian bridge. Earn a bonus reputation if you can barnstorm the tunnel too.
	
	notes = Be sure your pilot signs off on the insurance waiver before attempting this one, as it's not covered.
	
	completedMessage = Wow! You did it! Those who saw it were impressed.\n\nYour reputation spreads far and wide, however Neired Kerman in the R&D Center spilled his coffee when you buzzed his window. Apparently he didn't get the memo and went to work thinking it would be a normal day. No matter, the janitor cleaned up the mess. Well done!

//Contract Limits
	maxCompletions = 0
   	maxSimultaneous = 1
	weight = 5.0

	autoAccept = false
	declinable = true
	cancellable = true

	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0

//Contract Reward Modifiers
 	prestige = Trivial
   	targetBody = Kerbin

//Contract Rewards
  	advanceFunds = 0.0
  	rewardFunds = 0.0
  	rewardReputation = 30.0
	rewardScience = 0.0

//Contract Penalties
  	failureFunds = 10000.0
 	failureReputation = 5.0
	

//BEHAVIOURS TO DO WHEN CREATING CONTRACT

	BEHAVIOUR
	{
        	name = WaypointGenerator
        	type = WaypointGenerator
       
		WAYPOINT       
		{
        	name = R&D Center Pedestrian Bridge
			icon = marker
			latitude = -0.112771723444993
			longitude = 285.356460085191
			altitude = 20
			
			//PQS: KSC -450.788713541384, -169.277190243631, 45.7369539650517

		}
		
		WAYPOINT       
		{
        	name = R&D Center Tunnel  
			icon = marker
			latitude = -0.104864481020538
			longitude = 285.362668598586
			altitude = 20
			
			//PQS: KSC -386.342574372011, -86.0089176923766, 45.7368109753679
			
		}
		
	}	

	
//PARAMETERS FOR CONTRACT COMPLETION

//Craft definition
	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = You must fly an airplane

		define = Your aircraft
		dissassociateVesselsOnContractCompletion = true
		
		disableOnStateChange = false

		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			title = With wings
			
			category = Aero
			
			disableOnStateChange = false
			hideChildren = true

		}
		
		PARAMETER
		{
			name = Not
			type = Not
			title = Not powered by
			
			PARAMETER
			{
				name = HasResourceCapacity
				type = HasResourceCapacity
				title = solid rocket fuel
				hideChildren = true
				resource = SolidFuel
				hidden = true

			}
		
		}

		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			title = with a pilot
			
			trait = Pilot
			minCrew = 1
			
			disableOnStateChange = false
			hideChildren = true

		}

	}

//Navigate to waypoint parameters
	PARAMETER
	{
		name = All
		type = All
		title = Barnstorm the R&D Center
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under R&D Center Pedestrian Bridge
			hideChildren = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				
				situation = FLYING
				minSpeed = 3.0
				
				maxAltitude = 83
				
				completeInSequence = true
				hideChildren = true
				
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 0
				
				distance = 20
			
				completeInSequence = true
				hideOnCompletion = true
				disableOnStateChange = true
				hideChildren = true
				
			}
		
		}
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under R&D Center Tunnel
			hideChildren = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				
				situation = FLYING
				minSpeed = 3.0
				
				maxAltitude = 75
				
				completeInSequence = true
				hideChildren = true
				
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 1
				
				distance = 20
				
				completeInSequence = true
				hideOnCompletion = true
				disableOnStateChange = true
				hideChildren = true
				
			}
		
		}
	
	}
	
//Recovery Parameters - Landing Zone
	PARAMETER
	{
		name = ReachState
		type = ReachState
		title = Land anywhere at KSC
		hideChildren = true
		situation = LANDED
		maxSpeed = 0.0
		targetBody = Kerbin
		biome = KSC
		completeInSequence = true
		disableOnStateChange = false
		
	}

//Recovery Parameters - Craft and Kerbal Recovery		
	PARAMETER
	{
		name = All
		type = All
		title = Recover

		PARAMETER
		{
			name = RecoverVessel
			type = RecoverVessel
			title = your airplane
			
		}
		
		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
			title = without destroying it
			
		}
		
		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = and do not kill anyone in the process
			countMax = 1
			
		}
		
	}	
	
}
