//KSP Island Survey

CONTRACT_TYPE
{
//Contract Descriptions
	name = KSP-1-IslandsSurvey
	title = KSC Islands Survey
	group = Kerbal Space Program
	agent = Kerbal Space Program
	description = Congratulations on successfully testing your airplane. Gene Kerman of the Kerbal Space Program is asking your organization to send a brave pilot to fly over the KSC Islands and check out the condition of a makeshift airstrip constructed a few years ago while they were testing solid rocket powered airplanes (they weren't very successful, hence why it was abandoned). Currently used as a dumping ground for failed space center projects, Gene thinks if the conditions warrant, it might be possible to set it back up as a landing strip again.\n\nSpeaking of landings, Gene insists you start landing on the KSC runway now as tourists to KSC are starting to complain about the wheel gouges in the grass left by other aviators on the lawn in front of the Administration building and in various other areas around KSC. Someone even mistook the gouges as proof of some sort of Kracken discovery conspiracy. We'd better help put that idea to rest.
	synopsis = For science (and a few funds)!
	notes = Fly over the KSC Islands, and land back at KSC runway.
	completedMessage = Flight Completed!

//Contract Limits
	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0
	cancellable = true
	declinable = true
	autoAccept = false
	prestige = Trivial
   	targetBody = Kerbin
   	maxCompletions = 1
   	maxSimultaneous = 1

//Contract Rewards
 	rewardScience = 4.0
  	rewardReputation = 3.0
  	rewardFunds = 8000.0
 	failureReputation = 5.0
  	failureFunds = 10000.0
  	advanceFunds = 2000
	weight = 10.0

//Requirements for Contract to Appear	
//	REQUIREMENT
//	{
//		name = CompleteContract
//		type = CompleteContract
//		contractType = SSI-2-2000m
//		minCount = 1
//	}

//Requirements for Contract Completion
	PARAMETER
	{
		name = HasCrew
		type = HasCrew
		hideChildren = true
		trait = Pilot
		minCrew = 1
		title = You must have a certified pilot.
	}

//Navigate to waypoint requirement
	PARAMETER
	{
		name = All
		type = All
		title = Fly within 1000m of all waypoints in sequence
		
		PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 1
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 0
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				completeInSequence = true
				disableOnStateChange = true
			}
		
		}
		
				PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 2
			hideChildren = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 1
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
			}
		
		}
		
				PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 3
			hideChildren = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 2
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
			}
		
		}
		
				PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 4
			hideChildren = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 3
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
			}
		
		}
		
				PARAMETER
		{
			name = All
			type = All
			title = Fly under waypoint 5
			hideChildren = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
			}
			
			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 4
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				disableOnStateChange = true
			}
		
		}
		
				PARAMETER
		{
			name = All
			type = All
			title = Fly back under waypoint 1
			hideChildren = true
			completeInSequence = true
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				hideChildren = true
				minAltitude = 100
				maxAltitude = 1100
			}

			PARAMETER
			{
				name = VisitWaypoint
				type = VisitWaypoint
				index = 0
				hideChildren = true
				distance = 1000
				hideOnCompletion = true
				completeInSequence = true
				disableOnStateChange = true
			}
			
		}

	}
	
//Recovery Parameters	
	PARAMETER
	{
		name = ReachState
		type = ReachState
		title = Land back at KSC runway
		hideChildren = true
		situation = LANDED
		maxSpeed = 0.0
		targetBody = Kerbin
		biome = Runway
		completeInSequence = true
		disableOnStateChange = false
	}
	
	PARAMETER
	{
		name = RecoverKerbals
		type = All
		title = Recover plane with pilot
		hideChildren = true

		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
		}
		
		PARAMETER
		{
			name = RecoverKerbal
			type = RecoverKerbal
			index = 2
			count = 2
		}
		
		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = and do not kill anyone in the process
			countMax = 1
		}
		
	}	


//Behaviors to do when creating contract
	BEHAVIOUR
	{
        	name = WaypointGenerator
        	type = WaypointGenerator
       
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 1
			icon = marker
			latitude = -1.51971636955524
			longitude = 288.114196483849
			altitude = 1100
		}
		
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 2   
			icon = marker
			latitude = -2.39670533305862
			longitude = 287.419203490504
			altitude = 1100
		}
		
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 3  
			icon = marker
			latitude = -3.29647380095838
			longitude = 287.260245605689
			altitude = 1100
		}

		WAYPOINT       
		{
        	name = KSC Islands Waypoint 4  
			icon = marker
			latitude = -3.96549260680138
			longitude = 287.420042230946
			altitude = 1100
		}
		
		WAYPOINT       
		{
        	name = KSC Islands Waypoint 5 
			icon = marker
			latitude = -4.01354549927182
			longitude = 287.824097416704
			altitude = 1100
		}
		
	}
	
}
