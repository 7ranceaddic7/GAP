//KSC Airlines: Flight 10 - Crew Rotation: 2

CONTRACT_TYPE
{


//REQUIREMENTS FOR CONTRACT TO APPEAR

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = KSP-IslandPrep
		minCount = 1

	}
	
	REQUIREMENT
	{
		name = PartUnlocked
		type = PartUnlocked
		part = MK1CrewCabin
		
	}
	

//CONTRACT DESCRIPTION

	name = KSC-Airlines-Flight-10
	title = KSC Airlines: Flight 10 - Crew Rotation: 2
	group = KSC Airlines
	agent = KSC Airlines

	description = Scientists and engineers often head out to KSC Island to work on various projects, and tourists to KSC know the island as one of the best places to camp out and watch launches. Fly out two passengers to KSC Island, and exchange them with two passengers waiting there for a return trip to KSC.

	synopsis = Part of a series of regular flights to KSC Island. The pay is low, but at least it's steady.

	notes = Fly two passengers to KSC Island, drop them off and exchange them for two waiting passengers on the island, and return to KSC.

	completedMessage = Flight Completed! Snacks served: 2. Air sickness bags unused: 1. KSC Airlines thanks you for flying the friendly skies.

//Contract Limits
   	maxCompletions = 0
   	maxSimultaneous = 1
	weight = 10.0

	autoAccept = false
	declinable = true
	cancellable = true

	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0

//Contract Reward Modifiers
	prestige = Trivial
   	targetBody = Kerbin

//Contract Rewards
  	advanceFunds = 5000.0
  	rewardFunds = 10000.0
  	rewardReputation = 5.0
 	rewardScience = 5.0

//Contract Penalties
  	failureFunds = 20000.0
 	failureReputation = 20.0


//BEHAVIOURS TO DO WHEN CREATING CONTRACT

	BEHAVIOUR
	{
		name = SpawnPassengers
		type = SpawnPassengers
		count = 2
		kerbalType = Applicant
		
	}
	
	BEHAVIOUR
	{
		name = SpawnKerbal
		type = SpawnKerbal

		KERBAL
		{
			owned = false
			addToRoster = false
			pqsCity = IslandAirfield
			pqsOffset = -130.997359523775, -175.815974214336, 18.0997077854
			alt = 133.103743439424
			heading = 310
		
		}

		KERBAL
		{
			owned = false
			addToRoster = false
			pqsCity = IslandAirfield
			pqsOffset = -132.753837420853, -175.768306999687, 18.09969760210
			alt = 133.126783730113
			heading = 310
			
		}
	
	}

	BEHAVIOUR
	{
        	name = WaypointGenerator
        	type = WaypointGenerator
       
		WAYPOINT       
		{
        	name = KSC Island Airfield          
			icon = marker
			latitude = -1.51971636955524
			longitude = 288.114196483849
			altitude = 100
		}
	
	}

	
//PARAMETERS FOR CONTRACT COMPLETION

	PARAMETER
	{
		name = HasCrew
		type = HasCrew
		hideChildren = true
		trait = Pilot
		minCrew = 1
		title = Your pilot must be a pilot, not an engineer or scientist
		
	}
	
	PARAMETER
	{
		name = HasCrewCapacity
		type = HasCrewCapacity
		minCapacity = 3
		title = Your aircraft must have room for at least 2 passengers
		
	}
	
//Navigate to waypoint requirement include landing to a complete stop
	PARAMETER
	{
		name = WP0
		type = All
		title = Land at KSC Island airfield
		hideChildren = true
		completeInSequence = true

		PARAMETER
		{
			name = VisitWaypoint
			type = VisitWaypoint
			index = 0
			hideChildren = true
			distance = 300
			hideOnCompletion = true
			completeInSequence = true
			disableOnStateChange = true
			
		}
		
		PARAMETER
		{			            
			name = ReachState   
			type = ReachState
			hideChildren = true
			situation = LANDED
			maxSpeed = 0.0
			completeInSequence = true
			disableOnStateChange = true
			
		}
		
	}
	
//Requires unloading of outbound passengers
	PARAMETER
	{
		name = HasNotPassengers
		type = Not
		title = Outbound passengers Unloaded
		hideChildren = true
		completeInSequence = true
		disableOnStateChange = false
		
		PARAMETER
		{
			name = HasPassengers
			type = HasPassengers
			index = 0
			count = 2
			hideChildren = true
			completeInSequence = true
			disableOnStateChange = false
			
		}
		
	}

//Requires loading of inbound passengers
	PARAMETER
	{
		name = Any
		type = Any
		title = Passengers Exchanged
		completeInSequence = true
		disableOnStateChange = false
		
		PARAMETER
		{
			name = HasPassengers
			type = HasPassengers
			title = Passenger Manifest
			disableOnStateChange = false
			
		}
		
		PARAMETER
		{
			name = HasPassengers
			type = HasPassengers
			title =  Inbound passengers Loaded
			index = 2
			count = 2
			hideChildren = true
			disableOnStateChange = false
			
		}
	
	}

//Recovery Parameters - Landing Zone
	PARAMETER
	{
		name = ReachState
		type = ReachState
		title = Land back at KSC runway
		hideChildren = true
		situation = LANDED
		maxSpeed = 0.0
		targetBody = Kerbin
		biome = Runway
		completeInSequence = true
		disableOnStateChange = false
	}

//Recovery Parameters - Craft and Kerbal Recovery	
	PARAMETER
	{
		name = RecoverKerbals
		type = All
		title = Recover plane with passengers
		hideChildren = true

		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
			
		}
		
		PARAMETER
		{
			name = RecoverKerbal
			type = RecoverKerbal
			index = 2
			count = 2
			
		}
		
		PARAMETER
		{
			name = RecoverVessel
			type = RecoverVessel
			
		}
		
		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = and do not kill anyone in the process
			countMax = 1
			
		}
		
	}	
	
}
