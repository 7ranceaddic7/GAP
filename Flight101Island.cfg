//Island related Contracts
//CONTENT:
//Fly over the island, Land on the island

CONTRACT_TYPE
{
	name = CharterIsland
    title = Charter Flight 101 to KSC Island
    group = Island
	agent = SSI Aerospace
   
    description = Scientists and engineers often head out to KSC Island to work on various projects, and tourists to KSC know the island as one of the best places to camp out and watch launches. Shuttlecraft Systems Inc. has been chartered by KSC to provide regular air service to KSC Island. We need you to fly out two passengers to KSC Island, and exchange them with two passengers waiting there for a return trip to KSC.
	
	notes = Fly two passengers to KSC Island, drop them off and exchange them for two waiting passengers on the island, and return to KSC.
	
	synopsis = Regular flights to KSC Island are in high demand. The pay is low, but at least it's steady.
    completedMessage = Flight Completed!

    minExpiry = 7.0
    maxExpiry = 7.0
	deadline = 0
	cancellable = true
	declinable = true
    autoAccept = false
	
	prestige = Trivial

   	targetBody = Kerbin

   	maxCompletions = 0
   	maxSimultaneous = 1

 	rewardScience = 5.0
  	rewardReputation = 5.0
  	rewardFunds = 10000.0
 	failureReputation = 20.0
  	failureFunds = 20000.0
  	advanceFunds = 5000.0
	weight = 1000.0

	PARAMETER
	{
		name = HasCrew
		type = HasCrew
		hideChildren = true
		trait = Pilot
		minCrew = 1
		title = Your pilot must be a pilot, not an engineer or scientist
	}
	
	PARAMETER
	{
		name = HasCrewCapacity
		type = HasCrewCapacity
		minCapacity = 3
		title = Your aircraft must have room for at least 2 passengers
	}

	PARAMETER
	{
		name = WP0        
		type = All
		title = Land at KSC Island airfield
		hideChildren = true
//		completeInSequence = true

		PARAMETER
		{
			name = VisitWaypoint
			type = VisitWaypoint
			hideChildren = true
			distance = 300
			hideOnCompletion = true
			disableOnStateChange = true
		}
		
		PARAMETER
		{			            
			name = ReachState   
			type = ReachState
			hideChildren = true
			situation = LANDED
			disableOnStateChange = true
		}
	}
	
	PARAMETER
	{
		name = ExchangePassengers
		type = All
		title = Exchange passengers
		disableOnStateChange = true

		PARAMETER
		{
			name = DebarkPassengers
			type = All
			disableOnStateChange = true
			
			PARAMETER
			{
				name = HasPassengers
				type = HasPassengers
				index = 2
				count = 2
			}
		}
		
		PARAMETER
		{
			name = HasPassengers
			type = HasPassengers
			title =  Load passengers
			index = 0
			count = 2

		}
	}

	PARAMETER
	{
		name = KSCRunwayRecovery
		type = All
		title = Land back at KSC runway
		hideChildren = true
		disableOnStateChange = false
		completeInSequence = true
		
		PARAMETER
		{
			name = ReachState
			type = ReachState
			hideChildren = true
			situation = LANDED
			targetBody = Kerbin
			biome = Runway
			disableOnStateChange = false
		}
		
		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
		}
	}
		
	PARAMETER
	{
		name = RecoverKerbal
		type = RecoverKerbal
		title = Recover plane with passengers
		hideChildren = true
		index = 0
		count = 2
	}
	
	
    BEHAVIOUR
    {
        name = SpawnKerbal
        type = SpawnKerbal

        KERBAL
        {
			owned = false
            addToRoster = false

            pqsCity = IslandAirfield
            pqsOffset = -130.997359523775, -175.815974214336, 18.0997077854
			alt = 134.17723099107
        }

        KERBAL
        {
			owned = false
            addToRoster = false

            pqsCity = IslandAirfield
            pqsOffset = -132.753837420853, -175.768306999687, 18.09969760210
			alt = 134.17723099107
        }
    }
 
	BEHAVIOUR
    {
        
		name = WaypointGenerator
        type = WaypointGenerator
       
		WAYPOINT       
		{
            name = KSC Island Airfield          
			icon = marker
			latitude = -1.51971636955524
			longitude = 288.114196483849
			altitude = 100
		}
	}
	
		BEHAVIOUR
	{
		name = SpawnPassengers
		type = SpawnPassengers
		count = 2
		passengerName = 
		passengerName = 
		kerbalType = Applicant
	}
}