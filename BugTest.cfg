//Bug Test

CONTRACT_GROUP
{
	name = BugTestGroup
	maxSimultaneous = 1
	maxCompletions = 0
}


CONTRACT_TYPE
{
//Contract Descriptions
	name = BugTest
	title = Bug Test! Command Seat Test
	group = BugTestGroup
	description = Bug test.
	synopsis = Bug testing at its finest.
	completedMessage = Tested!
	
//Contract Limits
	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0
	cancellable = true
	declinable = true
	autoAccept = false
	prestige = Trivial
   	targetBody = Kerbin
   	maxCompletions = 0
   	maxSimultaneous = 1

//Contract Rewards
 	rewardScience = 5.0
  	rewardReputation = 5.0
  	rewardFunds = 8000.0
 	failureReputation = 5.0
  	failureFunds = 10000.0
  	advanceFunds = 2000
	weight = 10.0

	
//Parameters for Contract Completion

	PARAMETER
	{
		name = HasCrew
		type = HasCrew
		minCrew = 1
	}

//Recovery Parameters - Landing Zone

	PARAMETER
	{
		name = ReachState
		type = ReachState
		situation = LANDED
		maxSpeed = 0.0
		targetBody = Kerbin
		disableOnStateChange = false
	}
	
	PARAMETER
	{
		name = HasPassengers
		type = HasPassengers
		disableOnStateChange = false
	}
	

//Recovery Parameters - Craft and Kerbal Recovery

	PARAMETER
	{
		name = RecoverVessel
		type = RecoverVessel
	}
	
	PARAMETER
	{
		name = RecoverKerbal
		type = RecoverKerbal
	}
	
	
//Behaviors to do when creating contract

//	With the Take Command mod installed, you can spawn passengers into Command Seats. Slight bug with Take Command though - Kerbals that spawn into Command Seats, or crew transfer into Command Seats, visually disappear. But I do absolutely confirm that this contract works and recognizes the passengers regardless. This also works without Take Command if I have a cabin for the passengers to spawn into, and then transfer into Command Seats. No bug here.
	BEHAVIOUR
	{
		name = SpawnPassengers
		type = SpawnPassengers
		count = 2
		kerbalType = Tourist
	}

//Now this is an interesting scenario: as a work around for Take Command mod visually disappearing passengers that spawn into command chairs, how about a tour bus filled with waiting passengers at the runway, spawned by SpawnVessel and its Vessle>Crew attribute? Simply unload your passengers, hop in the command seats on the airplane, and off you go! Except hopping into the command seats does not have CC recognize the passengers spawned by SpawnVessel. It's as if HasPassengers does not recognize passengers spawned via SpawnVessel.

//	BEHAVIOUR
//	{
//		name = SpawnVessel
//		type = SpawnVessel
//		deferVesselCreation = false

//		VESSEL
//		{
//			name = Tour Bus
//			craftURL = ContractPacks/SSI-Aerospace/Assets/TouristBus.craft
//			vesselType = Ship
//			owned = True
//			targetBody = Kerbin
//			lat = -0.0544780548632459
//			lon = 285.275492359036
			
//			CREW
//			{
//				addToRoster = false
//				count = 2
//			}
			
//		}
		
	}
	
}
