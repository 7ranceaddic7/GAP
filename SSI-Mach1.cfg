//SSI-Mach1 - SSI Aerospace: Break the sound barrier!

CONTRACT_TYPE
{


//REQUIREMENTS FOR CONTRACT TO APPEAR

//	REQUIREMENT
//	{
//		name = CompleteContract
//		type = CompleteContract
//		
//		contractType = KAB-10000m
//		minCount = 1
//		
//	}
	
//	REQUIREMENT
//	{
//		name = CompleteContract
//		type = CompleteContract
//		
//		contractType = KSP-CarrierTakeoff
//		minCount = 1
//		
//	}
	
	REQUIREMENT
	{
		name = Any
		type = Any
		
		REQUIREMENT
		{
			name = PartUnlocked
			type = PartUnlocked
			
			part = miniJetEngine

		}
		
		REQUIREMENT
		{
			name = PartUnlocked
			type = PartUnlocked
			
			part = liquidEngine

		}
		
	}
	

//DATA NODES TO PROCESS FOR CONTRACT USE

//Contract Specific VesselParameterGroup Definition Key (to prevent conflict with other active contracts)
	DATA
	{
		type = string
		
		craft = GAPcraftSSIMach1
		
	}
	

//CONTRACT DESCRIPTION

//Contract Descriptions
	name = SSI-Mach1
	title = Break the sound barrier!
	group = SSI Aerospace
	agent = SSI Aerospace
	
	description = SSI Aerospace's chief scientist Mach Kerman, and KSP former test pilot Yeager Kerman, want to push SSI development toward a space plane. To do this, Inigma Kerman says SSI needs your organization to take on the tough challenge of breaking into the frontier of supersonic flight. Take an airplane above 2500m but below 20,000m and break the sound barrier!
	
	synopsis = Simply launch an airplane from the runway and fly above 2500m but below 20,000m and exceed 343 m/s, and then land back at the KSC safely.
	
	notes = No one has ever gone faster than the speed of sound before, so most scientists and engineers are at a loss to give you any advice. Even if they did, they're afraid you'd probably be travelling to fast to hear their advice anyways.
	
	completedMessage = You have broken the sound barrier and achieved Mach 1! Don't worry, we're sure it can be fixed back up in a jiffy for the next guy!\n\nInigma Kerman is once again impressed with your ability to accomplish great challenges. He says there's another speed challenge waiting for you back at Mission Control if you're interested.

//Contract Limits
  	maxCompletions = 1
   	maxSimultaneous = 1
	weight = 10.0

	autoAccept = false
	declinable = true
	cancellable = true
	
	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0
 
//Contract Reward Modifiers
	prestige = Trivial
   	targetBody = Kerbin

//Contract Rewards
  	advanceFunds = 5000
  	rewardFunds = 20000.0
  	rewardReputation = 50.0
 	rewardScience = 20.0

//Contract Penalties
  	failureFunds = 10000.0
 	failureReputation = 5.0
	
	
//PARAMETERS FOR CONTRACT COMPLETION

//Craft definition
	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = Your aircraft must
		
		define = @/craft
		dissassociateVesselsOnContractCompletion = true

		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			title = have a certified pilot
			
			trait = Pilot
			minCrew = 1
		
			disableOnStateChange = false
			hideChildren = true

		}

		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			title = have wings
			
			category = Aero
			
			disableOnStateChange = false
			hideChildren = true

		}
		
		disableOnStateChange = false

	}

//Contract Goals
	PARAMETER
	{
		name = All
		type = All
		title = break the sound barrier
		
		PARAMETER
		{
			name = VesselParameterGroup
			type = VesselParameterGroup
			title = fly between 2500m and 20,000m
			
			vessel = @/craft
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				
				targetBody = Kerbin
				situation = FLYING
				minAltitude = 2500

				disableOnStateChange = true
				hideChildren = true
				hidden = true
				
			}
		
			completeInSequence = true
			disableOnStateChange = true
			hideChildren = true	

		}

		PARAMETER
		{
			name = VesselParameterGroup
			type = VesselParameterGroup
			title = fly faster than 343 m/s
			
			vessel = @/craft
			
			PARAMETER
			{
				name = ReachState
				type = ReachState
				
				targetBody = Kerbin
				situation = FLYING
				minSpeed = 343

				disableOnStateChange = true
				hideChildren = true
				hidden = true
				
			}
		
			completeInSequence = true
			disableOnStateChange = true
			hideChildren = true	

		}
	
		completeInSequence = true
		disableOnStateChange = true
	
	}

//Recovery Parameter - Landing
	PARAMETER
	{
		name = Any
		type = Any
		title = and then land and stop
		
		PARAMETER
		{
			name = Any
			type = Any
			title = at one of the following recovery areas

			PARAMETER
			{
				name = VesselParameterGroup
				type = VesselParameterGroup
				title = the KSC Runway
				
				vessel = @/craft

			PARAMETER
				{
					name = ReachState
					type = ReachState
					
					targetBody = Kerbin
					biome = Runway
					situation = LANDED
					maxSpeed = 0.0

					disableOnStateChange = false
					hideChildren = true

				}

				disableOnStateChange = false
				hideChildren = true		

			}
			
			PARAMETER
			{
				name = VesselParameterGroup
				type = VesselParameterGroup
				title = or the Spaceplane Hangar Air Terminal
				
				vessel = @/craft

			PARAMETER
				{
					name = ReachState
					type = ReachState
					
					targetBody = Kerbin
					biome = SPH
					situation = LANDED
					maxSpeed = 0.0

					disableOnStateChange = false
					hideChildren = true

				}
				
				disableOnStateChange = false
				hideChildren = true		

			}
		
			disableOnStateChange = false
		
		}
		
		completeInSequence = true
		disableOnStateChange = false

	}

//Recovery Parameter - Craft & Kerbal Safety Check
	PARAMETER
	{
		name = All
		type = All
		title = safely
		
		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
			title = without destroying your aircraft
			
			vessel = @/craft

		}
		
		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = or killing anyone
			
			countMax = 1

		}

		completeInSequence = true
		disableOnStateChange = true

	}	
	
}