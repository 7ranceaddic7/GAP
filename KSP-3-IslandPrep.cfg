//KSP 3 Island Airfield Preparation

CONTRACT_TYPE
{


//REQUIREMENTS FOR CONTRACT TO APPEAR

//	REQUIREMENT
//	{
//		name = CompleteContract
//		type = CompleteContract
//		contractType = KSP-2-IslandFlag
//		minCount = 1
//
//	}


//CONTRACT DESCRIPTION

	name = KSP-3-IslandPrep
	title = KSP: KSC Island Airfield Preparation
	group = Kerbal Space Program
	agent = Kerbal Space Program
	
	description = With the KSC Islands surveyed, and a flag planted at the KSC Island airfield tower, Gene Kerman wants you to land the first ground crew team who will prepare the tower and hangar for regular flight operations. Have one team member access the hangars, and have the other team member climb the control tower to begin repairs in the control room.
	
	synopsis = Land on KSC Island and deliver the first ground crew team to their places on island. 
	
	notes = Land a team of Kerbals on KSC Island and have one arrive at the hangar waypoint, and the other climb the control tower stairs and arrive at the control tower waypoint. Fly back to KSC and land at KSC runway.
	
	completedMessage = You have delivered the first ground crew to KSC Island. The island is now ready for regular flight operations and by the expanding Kerbal Space Center. Gene Kerman thanks you for your service and asks that you check in from time to time to see if the newly formed KSC Air Charters group may have some island relief flights for you if interested.

//Contract Limits
	maxCompletions = 1
   	maxSimultaneous = 1
	weight = 10.0

	autoAccept = false
	declinable = true
	cancellable = true
	
	minExpiry = 7.0
	maxExpiry = 7.0
	deadline = 0

//Contract Reward Modifiers
 	prestige = Trivial
   	targetBody = Kerbin

//Contract Rewards
  	advanceFunds = 5000.0
  	rewardFunds = 10000.0
  	rewardReputation = 5.0
	rewardScience = 4.0

//Contract Penalties
  	failureFunds = 20000.0
 	failureReputation = 20.0


//BEHAVIOURS TO DO WHEN CREATING CONTRACT

	BEHAVIOUR
	{
		name = WaypointGenerator
		type = WaypointGenerator
		
		PQS_CITY
		{
			name = KSC Island Airfield 
			icon = marker
			targetBody = Kerbin
			pqsCity = IslandAirfield
			pqsOffset = -44.0509605753032, -247.057216484056, 18.0797328829649
			altitude = 24
		
		}

		PQS_CITY
		{
			name = KSC Island Hangar
			icon = marker
			targetBody = Kerbin
			pqsCity = IslandAirfield
			pqsOffset = -103.358432509151, -110.625276304003, 18.1199676233009
			altitude = 20
			parameter = LandatIslandAirfield
		
		}
		
		PQS_CITY
		{
			name = KSC Island Tower Control Room
			icon = marker
			targetBody = Kerbin
			pqsCity = IslandAirfield
			pqsOffset = -22.701701170532, -181.865178819855, 59.5074132327136
			altitude = 60
			parameter = LandatIslandAirfield
		
		}

	}
	
	BEHAVIOUR
	{
		name = SpawnPassengers
		type = SpawnPassengers
		count = 2
		kerbalType = Applicant
		
	}

	
//PARAMETERS FOR CONTRACT COMPLETION

	PARAMETER
	{
		name = HasCrew
		type = HasCrew
		hideChildren = true
		trait = Pilot
		minCrew = 1
		title = Your pilot must be a pilot, not an engineer or scientist
		
	}
	
//Navigate to waypoint requirement include landing to a complete stop
	PARAMETER
	{
		name = LandatIslandAirfield
		type = All
		title = Land at KSC Island
		hideChildren = true
		completeInSequence = true
		disableOnStateChange = true

		PARAMETER
		{			            
			name = ReachState   
			type = ReachState
			hideChildren = true
			situation = LANDED
			maxSpeed = 0.0
			completeInSequence = true
			disableOnStateChange = false
			
		}
		
		PARAMETER
		{
			name = VisitWaypoint
			type = VisitWaypoint
			index = 0
			hideChildren = true
			distance = 600
			completeInSequence = true
			disableOnStateChange = false
			hideOnCompletion = true
			
		}
	
	}
	
//Requires unloading of outbound passengers
	PARAMETER
	{
		name = HasNotPassengers
		type = Not
		title = Unload passengers
		hideChildren = true
		completeInSequence = true
		disableOnStateChange = false
		
		PARAMETER
		{
			name = HasPassengers
			type = HasPassengers
			index = 0
			count = 2
			hideChildren = true
			completeInSequence = true
			disableOnStateChange = false
			
		}
		
	}

//Navigate to new waypoints

	PARAMETER
	{
		name = VisitWaypoint
		type = VisitWaypoint
		index = 1
		title = Walk one passenger to hangar
		hideChildren = true
		distance = 5
		hideOnCompletion = true
		completeInSequence = false
		disableOnStateChange = true
		
	}	

	PARAMETER
	{
		name = VisitWaypoint
		type = VisitWaypoint
		index = 2
		title = Walk the other passenger upstairs to the control tower room
		hideChildren = true
		distance = 5
		hideOnCompletion = true
		completeInSequence = false
		disableOnStateChange = true
		
	}

//Recovery Parameters - Landing Zone
	PARAMETER
	{
		name = ReachState
		type = ReachState
		title = Land back at KSC runway
		hideChildren = true
		situation = LANDED
		maxSpeed = 0.0
		targetBody = Kerbin
		biome = Runway
		completeInSequence = true
		disableOnStateChange = false
		
	}

//Recovery Parameters - Craft and Kerbal Recovery		
	PARAMETER
	{
		name = All
		type = All
		title = Recover

		PARAMETER
		{
			name = RecoverVessel
			type = RecoverVessel
			title = your airplane
			
		}
		
		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
			title = without destroying it
			
		}
		
		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = and do not kill anyone in the process
			countMax = 1
			
		}
		
	}
	
}
